<div #parentdiv class="hal-table-container">
    <div  *ngIf="(fetchStatus | async) === 'done' || 
            (fetchStatus | async) !== 'fetching' as fetched; else loading">
        <div #dxctable *ngIf="(resource | async) && 
            (fetchStatus | async) === 'done' as entity">    
            <dxc-table>
                <tr>
                    <th *ngFor="let column of columns;">{{ column.header }}</th>
                </tr> 
                <tr *ngFor="let pItem of items | async">
                    <td *ngFor="let column of columns">
                       <span *ngIf="column.onClickItemFunction">
                            <a (click)="runColumnFunction(column, pItem)">{{ getItemPropertyValue(pItem, column.property) }}</a>
                       </span>
                    </td>
                </tr>
            </dxc-table>
            <dxc-paginator *ngIf="totalItems && totalItems > 0"
                [totalItems]="totalItems"
                [itemsPerPage]="itemsPerPage"
                [currentPage]="page"
                (nextFunction)="navigate($event, 'next')"
                (prevFunction)="navigate($event, 'prev')"
                (firstFunction)="navigate($event, 'first')"
                (lastFunction)="navigate($event, 'last')"
            >
            </dxc-paginator>
        </div>
    </div>

    <div #loading *ngIf="(fetchStatus | async) !== 'done' as fetched else dxctable" 
            [style.height.px]="parentdiv.offsetHeight">
        <div class="loading-container">
            <dxc-spinner margin="xxlarge" label="Fetching data"></dxc-spinner>
        </div>
    </div>
</div>